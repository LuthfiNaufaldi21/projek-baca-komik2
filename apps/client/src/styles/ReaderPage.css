/* ReaderPage.css */

/* Reset scroll bar untuk halaman baca */
.reader-page {
  @apply min-h-screen bg-[#0a0a0a] text-gray-200 flex flex-col relative;
}

/* Loading State */
.reader-loading {
  @apply min-h-screen flex flex-col items-center justify-center bg-[#0a0a0a] text-white;
}
.spinner {
  @apply w-10 h-10 border-4 border-primary border-t-transparent rounded-full animate-spin mb-4;
}

/* Error State */
.reader-error {
  @apply min-h-screen flex flex-col items-center justify-center bg-[#0a0a0a] text-white gap-4;
}

.reader-error-message {
  @apply text-gray-400 text-center mb-2;
}

.reader-error-actions {
  @apply flex gap-3 items-center;
}

.reader-btn-reload {
  @apply flex items-center gap-2 px-5 py-2 
    bg-primary hover:bg-primary-hover 
    rounded-lg font-medium transition-all duration-200
    shadow-sm hover:shadow-md active:scale-95;
}

.reader-icon-reload {
  @apply w-4 h-4;
}

.reader-btn-back {
  @apply px-6 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors;
}

/* Header */
.reader-header {
  @apply sticky top-0 z-50 flex justify-between items-center px-4 py-3 
  bg-[#0a0a0a]/95 backdrop-blur-md border-b border-gray-800 shadow-lg transition-transform duration-300;
}

.reader-header__title {
  @apply font-bold text-white text-sm md:text-base line-clamp-1;
}

.reader-header__subtitle {
  @apply text-xs text-gray-400 block;
}

.reader-header__close {
  @apply px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg text-xs font-bold text-white transition-colors;
}

.reader-header__actions {
  @apply absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 
  flex items-center gap-4 bg-gray-800/80 backdrop-blur-sm px-4 py-1.5 rounded-full border border-gray-700 shadow-md;
}

.reader-header__btn {
  @apply text-gray-300 hover:text-white transition-colors p-1 rounded-full hover:bg-gray-700 disabled:opacity-30 disabled:cursor-not-allowed disabled:hover:bg-transparent;
}

.reader-header__divider {
  @apply w-[1px] h-4 bg-gray-600;
}

/* ðŸŽ¯ MODIFIKASI UTAMA: Content Images FULLSCREEN */
.reader-content {
  /* Ubah max-w-3xl menjadi lebih lebar atau 100% untuk fullscreen */
  @apply w-full max-w-[800px] mx-auto bg-black shadow-2xl min-h-screen;
  /* Jika ingin benar-benar full layar tanpa batas kiri kanan, ganti max-w-[800px] menjadi max-w-full */
}

.reader-image {
  @apply w-full h-auto block; /* block agar tidak ada celah antar gambar */
}

/* Footer Navigation */
.reader-footer {
  @apply max-w-[800px] mx-auto w-full px-4 py-12 pb-20;
}

.reader-nav-buttons {
  @apply flex gap-4 mb-6;
}

.reader-nav-btn {
  @apply flex-1 py-3 rounded-lg font-bold transition-all duration-200 text-sm md:text-base;
}

.reader-nav-btn:disabled {
  @apply bg-gray-900 text-gray-600 cursor-not-allowed opacity-50;
}

.reader-nav-btn--prev {
  @apply bg-gray-800 hover:bg-gray-700 text-white;
}

.reader-nav-btn--next {
  @apply bg-primary hover:bg-primary-hover text-white shadow-lg transform active:scale-95;
}

.reader-footer__text {
  @apply text-center text-xs text-gray-600;
}

/* Floating Progress Button */
.reader-progress-floating {
  @apply fixed bottom-6 right-6 z-[60] w-12 h-12 rounded-full bg-gray-900/90 backdrop-blur-md border border-gray-700 flex items-center justify-center shadow-lg transition-transform duration-300 cursor-pointer;
}
.reader-progress-floating:hover {
  @apply scale-110 bg-gray-800;
}
.reader-progress-text {
  @apply text-[10px] font-bold text-white absolute;
}
.reader-icon-arrow {
  @apply w-5 h-5 text-white absolute animate-bounce;
}
.reader-progress-circle {
  @apply w-10 h-10 transform -rotate-90 pointer-events-none;
}
.circle-bg {
  @apply fill-none stroke-gray-700 stroke-[2];
}
.circle-value {
  @apply fill-none stroke-primary stroke-[2] transition-all duration-150 ease-out;
  stroke-linecap: round;
}

/* Media Query untuk Mobile agar benar-benar full edge-to-edge */
@media (max-width: 768px) {
  .reader-content {
    @apply max-w-full;
  }
  .reader-footer {
    @apply max-w-full;
  }
}

/* Header */
.reader-header {
  @apply sticky top-0 z-50 flex justify-between items-center px-4 py-3 
  bg-[#0a0a0a]/95 backdrop-blur-md border-b border-gray-800 shadow-lg transition-transform duration-300;
}

.reader-header__title {
  @apply font-bold text-white text-sm md:text-base line-clamp-1;
}

.reader-header__subtitle {
  @apply text-xs text-gray-400 block;
}

.reader-header__close {
  @apply px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg text-xs font-bold text-white transition-colors;
}

.reader-header__actions {
  @apply absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 
  flex items-center gap-4 bg-gray-800/80 backdrop-blur-sm px-4 py-1.5 rounded-full border border-gray-700 shadow-md;
}

.reader-header__btn {
  @apply text-gray-300 hover:text-white transition-colors p-1 rounded-full hover:bg-gray-700 disabled:opacity-30 disabled:cursor-not-allowed disabled:hover:bg-transparent;
}

.reader-header__divider {
  @apply w-[1px] h-4 bg-gray-600;
}

/* Content Images FULLSCREEN */
.reader-content {
  @apply w-full max-w-[800px] mx-auto bg-black shadow-2xl min-h-screen;
}

.reader-image {
  @apply w-full h-auto block; /* block agar tidak ada celah antar gambar */
}

/* --- FOOTER NAVIGATION & DROPDOWN BARU --- */

/* Footer Container */
.reader-footer {
  @apply max-w-[800px] mx-auto w-full px-4 py-8 pb-24;
}

/* Container Tombol Navigasi (Flexbox) */
.reader-nav-buttons {
  /* Mobile: Susun ke bawah (Reverse agar Dropdown paling atas/mudah dijangkau) 
     Desktop: Sejajar satu baris */
  @apply flex flex-col-reverse md:flex-row items-stretch md:items-center gap-3 w-full mb-6 relative;
}

/* Style Tombol Prev & Next */
.reader-nav-btn {
  @apply flex items-center justify-center px-6 py-3 rounded-xl font-bold transition-all duration-200 text-sm md:text-base border border-transparent whitespace-nowrap;
}
.reader-nav-btn:disabled {
  @apply bg-gray-900 text-gray-600 cursor-not-allowed opacity-50 border-gray-800;
}
.reader-nav-btn--prev {
  @apply bg-gray-900 hover:bg-gray-800 text-gray-300 hover:text-white border-gray-800;
}
.reader-nav-btn--next {
  @apply bg-primary hover:bg-primary-hover text-white shadow-lg shadow-primary/20 transform active:scale-[0.98];
}

/* --- Style Dropdown Custom --- */

/* Wrapper Dropdown (Agar berada di tengah di desktop) */
.reader-dropdown-wrapper {
  @apply relative flex-1 z-40; /* z-40 agar muncul di atas elemen footer lain */
}

/* Tombol Pemicu Dropdown */
.reader-dropdown-trigger {
  @apply w-full flex items-center justify-between px-4 py-3 
  bg-[#111] hover:bg-[#1a1a1a] text-gray-200 border border-gray-800 
  rounded-xl transition-all duration-200 cursor-pointer text-sm md:text-base font-medium;
}
.reader-dropdown-trigger span {
  @apply truncate mr-2; /* Agar teks panjang tidak merusak layout */
}

/* Icon Panah */
.reader-dropdown-icon {
  @apply w-5 h-5 text-gray-500 transition-transform duration-300;
}
.reader-dropdown-trigger:hover .reader-dropdown-icon {
  @apply text-white;
}

/* List Menu (Diperbaiki: Menghapus class animasi plugin yang error) */
.reader-dropdown-menu {
  @apply absolute bottom-[115%] left-0 w-full 
  bg-[#111] border border-gray-800 rounded-xl shadow-2xl shadow-black/80 
  max-h-80 overflow-y-auto p-1.5
  origin-bottom transition-all duration-200; /* Class animate-in dihapus agar tidak error */
}

/* Item dalam List */
.reader-dropdown-item {
  @apply block w-full text-left px-4 py-3 
  text-gray-400 hover:text-white hover:bg-gray-800 
  rounded-lg text-sm transition-colors cursor-pointer border-b border-gray-900 last:border-0;
}
.reader-dropdown-item.active {
  @apply bg-primary/10 text-primary font-bold border-primary/20;
}

/* Scrollbar styling untuk dropdown */
.reader-dropdown-menu::-webkit-scrollbar {
  @apply w-1.5;
}
.reader-dropdown-menu::-webkit-scrollbar-track {
  @apply bg-transparent;
}
.reader-dropdown-menu::-webkit-scrollbar-thumb {
  @apply bg-gray-700 rounded-full hover:bg-gray-600;
}

.reader-footer__text {
  @apply text-center text-xs text-gray-600 mt-4;
}

/* --- Floating Progress Button --- */
.reader-progress-floating {
  @apply fixed bottom-6 right-6 z-[60] w-12 h-12 rounded-full bg-gray-900/90 backdrop-blur-md border border-gray-700 flex items-center justify-center shadow-lg transition-transform duration-300 cursor-pointer;
}
.reader-progress-floating:hover {
  @apply scale-110 bg-gray-800;
}
.reader-progress-text {
  @apply text-[10px] font-bold text-white absolute;
}
.reader-icon-arrow {
  @apply w-5 h-5 text-white absolute animate-bounce;
}
.reader-progress-circle {
  @apply w-10 h-10 transform -rotate-90 pointer-events-none;
}
.circle-bg {
  @apply fill-none stroke-gray-700 stroke-[2];
}
.circle-value {
  @apply fill-none stroke-primary stroke-[2] transition-all duration-150 ease-out;
  stroke-linecap: round;
}

/* Media Query untuk Mobile */
@media (max-width: 768px) {
  .reader-content {
    @apply max-w-full;
  }
  .reader-footer {
    @apply max-w-full;
  }
}
